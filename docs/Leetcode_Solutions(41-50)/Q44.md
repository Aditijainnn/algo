---
comments: true
difficulty: Hard
tags:
    - Recursion
    - String
    - Greedy
---


# [44. Wildcard Matching](https://leetcode.com/problems/wildcard-matching/description/)


## Description

Given an input string (s) and a pattern (p), implement wildcard pattern matching with support for '?' and '*' where:

'?' Matches any single character.
'*' Matches any sequence of characters (including the empty sequence).

The matching should cover the entire input string (not partial).


## Examples:

### Example 1:

Input: s = "aa", p = "a"
Output: false
Explanation: "a" does not match the entire string "aa".

### Example 2:

Input: s = "aa", p = "*"
Output: true
Explanation: '*' matches any sequence.

### Example 3:

Input: s = "cb", p = "?a"
Output: false
Explanation: '?' matches 'c', but the second letter is 'a', which does not match 'b'.


## Constraints:

~ 0 <= s.length, p.length <= 2000
~ s contains only lowercase English letters.
~ p contains only lowercase English letters, '?' or '*'.


## Solutions

<!-- solution:start -->

### Solution 1: Simulating Mathematical Multiplication

* Given an array S of n integers, are there elements a, b, c, and d in S such that a + b + c + d = target? 
* Find all unique quadruplets in the array which gives the sum of target.

* Note:
 Elements in a quadruplet (a,b,c,d) must be in non-descending order. (ie
 a ≤ b ≤ c ≤ d)
 The solution set must not contain duplicate quadruplets.

 For example, given array S = {1 0 -1 0 -2 2}, and target = 0.
 
     A solution set is:
     (-1,  0, 0, 1)
     (-2, -1, 1, 2)
     (-2,  0, 0, 2)


#### Python3

```python
def four_sum(nums, target):
    def three_sum(nums, target):
        result = []
        nums.sort()  # Sort the array
        n = len(nums)
        
        for i in range(n - 2):
            # Skip duplicates
            if i > 0 and nums[i] == nums[i - 1]:
                continue
            
            low, high = i + 1, n - 1
            while low < high:
                total = nums[i] + nums[low] + nums[high]
                if total == target:
                    result.append([nums[i], nums[low], nums[high]])
                    # Skip duplicates for low and high
                    while low < high and nums[low] == nums[low + 1]:
                        low += 1
                    while low < high and nums[high] == nums[high - 1]:
                        high -= 1
                    low += 1
                    high -= 1
                elif total < target:
                    low += 1
                else:
                    high -= 1
        
        return result

    result = []
    nums.sort()  # Sort the array
    
    for i in range(len(nums) - 3):
        # Skip duplicates
        if i > 0 and nums[i] == nums[i - 1]:
            continue
        
        # Call three_sum on the rest of the array with the reduced target
        sub_results = three_sum(nums[i + 1:], target - nums[i])
        for sub_result in sub_results:
            result.append([nums[i]] + sub_result)
    
    return result


def print_matrix(matrix):
    for row in matrix:
        print(row)


if __name__ == "__main__":
    # Test cases
    a = [1, 0, -1, 0, -2, 2]
    target1 = 0
    result1 = four_sum(a, target1)
    print_matrix(result1)

    b = [-1, -5, -5, -3, 2, 5, 0, 4]
    target2 = -7
    result2 = four_sum(b, target2)
    print_matrix(result2)
    
```

#### Java

```java
import java.util.*;

public class FourSumSolution {

    public static List<List<Integer>> fourSum(int[] num, int target) {
        List<List<Integer>> result = new ArrayList<>();
        if (num.length < 4) return result;
        
        Arrays.sort(num);  // Sort the array
        
        for (int i = 0; i < num.length - 3; i++) {
            // Skip duplicates
            if (i > 0 && num[i] == num[i - 1]) continue;
            
            List<List<Integer>> threeSumResult = threeSum(Arrays.copyOfRange(num, i + 1, num.length), target - num[i]);
            
            for (List<Integer> triplet : threeSumResult) {
                triplet.add(0, num[i]);  // Add the current element to the beginning of the triplet
                result.add(triplet);
            }
        }
        
        return result;
    }

    public static List<List<Integer>> threeSum(int[] num, int target) {
        List<List<Integer>> result = new ArrayList<>();
        Arrays.sort(num);  // Sort the array if not already sorted
        
        for (int i = 0; i < num.length - 2; i++) {
            // Skip duplicates
            if (i > 0 && num[i] == num[i - 1]) continue;
            
            int a = num[i];
            int low = i + 1;
            int high = num.length - 1;
            
            while (low < high) {
                int b = num[low];
                int c = num[high];
                
                if (a + b + c == target) {
                    // Found a solution
                    result.add(Arrays.asList(a, b, c));
                    
                    // Skip duplicates for 'b' and 'c'
                    while (low < high && num[low] == num[low + 1]) low++;
                    while (low < high && num[high] == num[high - 1]) high--;
                    
                    low++;
                    high--;
                } else if (a + b + c > target) {
                    high--;
                } else {
                    low++;
                }
            }
        }
        
        return result;
    }

    public static void printMatrix(List<List<Integer>> result) {
        for (List<Integer> list : result) {
            System.out.println(list);
        }
    }

    public static void main(String[] args) {
        int[] a = {1, 0, -1, 0, -2, 2};
        int target1 = 0;
        List<List<Integer>> result1 = fourSum(a, target1);
        printMatrix(result1);

        int[] b = {-1, -5, -5, -3, 2, 5, 0, 4};
        int target2 = -7;
        List<List<Integer>> result2 = fourSum(b, target2);
        printMatrix(result2);
    }
}

```

#### C++

```cpp

#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

vector<vector<int> > threeSum(vector<int> num, int target); 

/*
 * 1) Sort the array,
 * 2) traverse the array, and solve the problem by using "3Sum" soultion.
 */

vector<vector<int> > fourSum(vector<int> &num, int target) {
    vector< vector<int> > result;
    if (num.size() < 4) return result;
    sort( num.begin(), num.end() );

    for(int i = 0; i < num.size() - 3; i++) {
        //skip the duplication
        if (i > 0 && num[i - 1] == num[i]) continue;
        vector<int> n(num.begin()+i+1, num.end());
        vector<vector<int> > ret = threeSum(n, target-num[i]);
        for(int j = 0; j < ret.size(); j++) {
            ret[j].insert(ret[j].begin(), num[i]);
            result.push_back(ret[j]);
        }
    }

    return result; 
}

vector<vector<int> > threeSum(vector<int> num, int target) {

    vector< vector<int> > result;
    //sort the array (if the qrray is sorted already, it won't waste any time)
    sort(num.begin(), num.end());

    int n = num.size();

    for (int i = 0; i < n - 2; i++) {
        //skip the duplication
        if (i > 0 && num[i - 1] == num[i]) continue;
        int a = num[i];
        int low = i + 1;
        int high = n - 1;
        while (low < high) {
            int b = num[low];
            int c = num[high];
            if (a + b + c == target) {
                //got the soultion
                vector<int> v;
                v.push_back(a);
                v.push_back(b);
                v.push_back(c);
                result.push_back(v);
                // Continue search for all triplet combinations summing to zero.
                //skip the duplication
                while(low < n && num[low] == num[low + 1]) low++;
                while(high > 0 && num[high] == num[high - 1]) high--;
                low++;
                high--;
            } else if (a + b + c > target) {
                //skip the duplication
                while(high > 0 && num[high] == num[high - 1]) high--;
                high--;
            } else {
                //skip the duplication
                while(low < n && num[low] == num[low + 1]) low++;
                low++;
            }
        }
    }
    return result;
}


int printMatrix(vector< vector<int> > &vv)
{
    for(int i = 0; i < vv.size(); i++) {
        cout << "[";
        for(int j = 0; j < vv[i].size(); j++) {
            cout << " " << vv[i][j];
        }
        cout << "]" << endl;;
    }
}


int main()
{
    int a[] = { 1, 0, -1, 0, -2, 2 };
    vector<int> n(a, a+6);
    int t = 0;
    vector< vector<int> > v = fourSum(n, t);
    printMatrix(v);

    n.clear();
    int b[] = { -1, -5, -5, -3, 2, 5, 0, 4 };
    n.insert(n.begin(), b, b+8);
    t = -7;
    v = fourSum(n, t);
    printMatrix(v);

    return 0;
}
```
